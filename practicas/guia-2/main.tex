\input{../macros/macros.tex}
\input{../macros/AEDmacros.tex}

\begin{document}

\titulo{Guia 2}
\input{../caratuladc/caratula.tex}
%Carátula
\maketitle
\newpage

%Indice
\tableofcontents
\newpage

\section{Guia 2}

\subsection{Ejercicio 1}
Nombrar los siguientes predicados sobre enteros:

\begin{enumerate}[label=\alph*)]
      \item \pred{esCuadrado}{x: \ent}{\existe{c}{\ent}{c > 0 \land (c * c = x)}}
      \item \pred{esPrimo}{x: \ent}{\paraTodo{n}{\ent}{(1 < n < x) \thenLuego (x \mod n \neq 0)}}
\end{enumerate}

\subsection{Ejercicio 2}
Escriba los siguientes predicados sobre números enteros en lenguaje de especifiación:

\begin{enumerate}[label=\alph*)]
      \item Que sea verdadero si y sólo si $x$ e $y$ son coprimos.

            \pred{sonCoprimos}{x, y: \ent}{
                  \paraTodo{i}{\ent}{i > 1 \thenLuego \neg (x \mod i = 0 \land y \mod i = 0)}
            }

      \item Que sea verdadero si $y$ es el mayor primo que divide a $x$.

            \pred{mayorPrimoQueDivide}{x, y: \ent}{
                  (esPrimo(y) \yLuego x \mod y = 0) \land \neg \existe{i}{\ent}{esPrimo(i) \yLuego (x \mod i = 0 \land i > y)}
            }
\end{enumerate}

\subsection{Ejercicio 3}
Nombre los siguientes predicados auxiliares sobre secuencias de enteros:

\begin{enumerate}[label=\alph*)]
      \item \pred{todoPositivos}{s: \TLista{\ent}}{
                  \paraTodo{i}{\ent}{(0 \leq i < |s|) \thenLuego s[i] \geq 0}
            }

      \item \pred{todosDistintos}{s: \TLista{\ent}}{
                  \paraTodo{i}{\ent}{(0 \leq i < |s|) \thenLuego
                        \paraTodo{j}{\ent}{(0 \leq j < |s| \land i \neq j) \thenLuego (s[i] \neq s[j])}}
            }
\end{enumerate}

\subsection{Ejercicio 4}
Escriba los siguientes predicados auxiliares sobre secuencias de enteros, aclarando los tipos de los parámetros que recibe:

\begin{enumerate}[label=\alph*)]
      \item \textit{esPrefijo}, que determina si una secuencia es prefijo de otra.

            \pred{esPrefijo}{s1, s2: \TLista{\ent}}{
                  (|s1| \leq |s2|) \yLuego \paraTodo{i}{\ent}{
                        (0 \leq i < |s1|) \thenLuego (s1[i] = s2[i])
                  }
            }

      \item \textit{estáOrdenada}, que determina si la secuencia está ordenada de menor a mayor.

            \pred{estáOrdenada}{s: \TLista{\ent}}{
                  \paraTodo{i}{\ent}{(0 \leq i < |s| - 1) \thenLuego (s[i] \leq s[i + 1])}
            }

      \item \textit{hayUnoParQueDivideAlResto}, que determina si hay un elemento par en la secuencia que divide a todos los otros elementos de la secuencia.

            \pred{divideA}{d, n: \ent}{(d \neq 0) \yLuego n \mod d = 0}

            \pred{hayUnoParQueDivideAlResto}{s: \TLista{\ent}}{
                  \existe{i}{\ent}{(0 \leq i < |s|) \yLuego esPar(s[i]) \land \paraTodo{j}{\ent}{(0 \leq j < |s|) \yLuego divideA(s[i], s[j])}}
            }

      \item \textit{enTresPartes}, que determina si en la secuencia aparecen (de izquieda a derecha) primero 0s, despúes 1s y por último 2s. Por ejemplo $\langle 0, 0, 1, 1, 1, 1, 2 \rangle$ cumple, pero $\langle 0, 1, 3, 0 \rangle$ o $\langle 0, 0, 0, 1, 1 \rangle$ no. ¿Cómo modificaría la expresión para que se admitan cero apariciones de 0s, 1s y 2s (es decir, para que por ejemplo $\langle 0, 0, 0, 1, 1 \rangle$ o $\langle \rangle$ sí cumplan)?

            \pred{tieneSoloCeroUnoYDos}{s: \TLista{\ent}}{
                  \paraTodo{i}{\ent}{(0 \leq i < |s|) \thenLuego (s[i] = 0 \lor s[i] = 1 \lor s[i] = 2)}
            }

            \pred{enTresPartes}{s: \TLista{\ent}}{
                  tieneSoloCeroUnoYDos(s) \land estaOrdenada(s)
            }
\end{enumerate}

\subsection{Ejercicio 5}
Sea $s$ una secuencia de elementos de tipo $\ent$. Escribir una expresión (utilizando sumatoria y productoria) tal que:

\begin{enumerate}[label=\alph*)]
      \item Cuente la cantidad de veces que aparece el elemento $e$ de tipo $\ent$ en la secuencia $s$.

            $\sum\limits_{i=0}\limits^{|s| - 1} \IfThenElse{s[i] = e}{1}{0}$

      \item Sume los elementos en las posiciones impares de la secuencia $s$.

            $\sum\limits_{i=0}\limits^{|s| - 1} \IfThenElse{\neg esPar(s[i])}{s[i]}{0}$

      \item Sume los elementos mayores a 0 contenidos en la secuencia $s$.

            $\sum\limits_{i=0}\limits^{|s| - 1} \IfThenElse{s[i] > 0}{s[i]}{0}$

      \item Sume los inverso multiplicativos $(\frac{1}{x})$ de los elementos contenidos en la secuencia $s$ distintos a 0.

            $\sum\limits_{i=0}\limits^{|s| - 1} \IfThenElse{s[i] \neq 0}{\frac{1}{s[i]}}{0}$
\end{enumerate}

\subsection{Ejercicio 6}
Las siguientes especifiaciones no son correctas. Indicar por qué y corregirlas para que describan correctamente el problema.

\begin{enumerate}[label=\alph*)]
      \item progresionGeometricaFactor2: Indica si la secuencia $l$ representa una progresión geométrica factor 2. Es decir, si cada elemento de la secuencia es el doble del elemento anterior.

            \begin{proc}{progresionGeometricaFactor2}{\In l: \TLista{\ent}}{\bool}
                  \requiere{True}
                  \asegura{res = True \Iff (\paraTodo{i}{\ent}{0 \leq i < |l| \thenLuego l[i] = 2 * l[i - 1]})}
            \end{proc}

            El asegura se indefine con $i = 0$ pues trata de acceder a $l[-1]$.

            Solucion: \begin{proc}{progresionGeometricaFactor2}{\In l: \TLista{\ent}}{\bool}
                  \requiere{True}
                  \asegura{res = True \Iff (\paraTodo{i}{\ent}{0 < i < |l| \thenLuego l[i] = 2 * l[i - 1]})}
            \end{proc}

      \item minimo: Devuelve en $res$ el menor elemento de $l$.

            \begin{proc}{minimo}{\In l: \TLista{\ent}}{\ent}
                  \requiere{True}
                  \asegura{\paraTodo{y}{\ent}{(y \in l \land y \neq x) \Then y > res}}
            \end{proc}

            En el asegura se hace referencia a $x$ que no está definida. La lista no puede estar vacía y $res$ tiene que estar en la lista.

            Solución: \begin{proc}{minimo}{\In l: \TLista{\ent}}{\ent}
                  \requiere{|l| > 0}
                  \asegura{res \in l \land \paraTodo{y}{\ent}{(y \in l \land y \neq res) \Then y > res}}
            \end{proc}
\end{enumerate}

\subsection{Ejercicio 7}
Para los siguientes problemas, dar todas las soluciones posibles a las entradas dadas:

\begin{enumerate}[label=\alph*)]
      \item \begin{proc}{indiceDelMaximo}{\In l: \TLista{\float}}{\ent}
                  \requiere{|l| > 0}
                  \asegura{0 \leq res < |l| \yLuego (\paraTodo{i}{\ent}{0 \leq i < |l| \thenLuego l[i] \leq l[res]})}
            \end{proc}

            \begin{enumerate}[label=\roman*)]
                  \item $\langle 1, 2, 3, 4 \rangle$ $res = 3$
                  \item $\langle 15 \punto 5, -18, 4 \punto 215, 15 \punto 5, -1 \rangle$ $res = 0 \lor res = 3$
                  \item $\langle 0, 0, 0, 0, 0, 0 \rangle$ $res \in [0, |l|)$
            \end{enumerate}

      \item \begin{proc}{indiceDelPrimerMaximo}{\In l: \TLista{\float}}{\ent}
                  \requiere{|l| > 0}
                  \asegura{0 \leq res < |l| \yLuego (\paraTodo{i}{\ent}{0 \leq i < |l| \thenLuego (l[i] \leq l[res] \lor (l[i] = l[res] \land i >= res))})}
            \end{proc}

            \begin{enumerate}[label=\roman*)]
                  \item $\langle 1, 2, 3, 4 \rangle$ $res = 3$
                  \item $\langle 15 \punto 5, -18, 4 \punto 215, 15 \punto 5, -1 \rangle$ $res = 0$
                  \item $\langle 0, 0, 0, 0, 0, 0 \rangle$ $res = 0$
            \end{enumerate}

      \item ¿Para qué valores de entrada indiceDelPrimerMaximo y indiceDelMaximo tienen necesariamente la misma salida?

            Tienen la misma salida sii el máximo de la lista no está repetido.
\end{enumerate}

\subsection{Ejercicio 8}
Sea $f: \float  \times \float  \to \float$ definida como:

\[
      f(a, b) = \begin{cases}
            2b    & \text{si } a < 0    \\
            b - 1 & \text{en otro caso}
      \end{cases}
\]

Indicar cuáles de las siguientes especifiaciones son correctas para el problema de calcular $f(a, b)$. Para aquellas que no lo son, indicar por qué.

\begin{enumerate}[label=\alph*)]
      \item \begin{proc}{f}{\In a, b: \float}{\float}
                  \requiere{True}
                  \asegura{(a < 0 \land res = 2 * b) \land (a \geq 0 \land res = b - 1)}
            \end{proc}

            Falla pues el asegura es siempre falso ya que, por la asociatividad, se tiene que $(a < 0 \land a \geq 0 \land \dots)$ lo cual es siempre falso.

      \item \begin{proc}{f}{\In a, b: \float}{\float}
                  \requiere{True}
                  \asegura{(a < 0 \land res = 2 * b) \lor (a \geq 0 \land res = b - 1)}
            \end{proc}

            Es correcta.

      \item \begin{proc}{f}{\In a, b: \float}{\float}
                  \requiere{True}
                  \asegura{(a < 0 \Then res = 2 * b) \lor (a \geq 0 \Then res = b - 1)}
            \end{proc}

            Falla pues siempre es verdadera.

      \item \begin{proc}{f}{\In a, b: \float}{\float}
                  \requiere{True}
                  \asegura{res = \If{a < 0}{2 * b}{b - 1}}
            \end{proc}

            Es correcta.
\end{enumerate}

\subsection{Ejercicio 9}
Considerar la siguiente especificación, junto con un algoritmo que dado $x$ devuelve $x^2$.

\begin{proc}{unoMasGrande}{\In x: \float}{\float}
      \requiere{True}
      \asegura{res > x}
\end{proc}

\begin{enumerate}[label=\alph*)]
      \item ¿Qué devuelve el algoritmo si recibe $x = 3$? ¿El resultado hace verdadera la posrtcondición de unoMasGrande?

            El algoritmo devuelve 9 y hace verdadera la postcondición pues 9 > 3.

      \item ¿Qué sucede para las entradas $x = 0\punto5, x = 1, x = -0\punto2$ y $x = -7$?

            Para los primeros 2 falla y para los útlimos 2 cumple.

      \item Teniendo en cuenta lo respondido en los puntos anteriores, escribir una \textbf{precondición} para unoMasGrande, de manera tal que el algoritmo cumpla con la especifiación.

            requiere \{$|x| > 1$\}
\end{enumerate}

\end{document}
